### 1. 프로세스 생성 요청 (Job 시작) - Phase 1, 2 검증
# 이 요청을 먼저 실행하세요 (▶ 버튼 클릭).
# 기대 결과: Job ID가 반환되고 백그라운드에서 작업이 시작됩니다.
POST http://localhost:8080/api/copilot/start
Content-Type: application/json

{
  "userPrompt": "직원 휴가 신청 프로세스를 만들어줘. 신청자가 작성하면 팀장이 승인하고, 승인되면 HR에게 통보되는 과정이야."
}

> {%
    // 응답에서 jobId를 추출하여 글로벌 변수로 저장합니다.
    client.global.set("jobId", response.body.jobId);
    client.log("Job ID saved: " + response.body.jobId);
%}

### 2. 상태 조회 (Polling)
# 위 1번 요청이 성공한 뒤, 이 요청을 반복해서 실행해 보세요.
# 저장된 {{jobId}} 변수가 자동으로 사용됩니다.
# 기대 결과:
# - processResponse.activities 내부의 'configuration' 필드에 'configType'이 명시되어 있어야 함.
# - dataEntitiesResponse.entities 내부의 'sourceNodeId'가 null이 아니어야 함.
GET http://localhost:8080/api/copilot/status/{{jobId}}

### 3. [NEW] 실시간 AI 제안 요청 (Next Best Action) - Phase 3 검증
# 사용자가 화면에서 '비용 신청(Submit Expense)' 노드 하나만 그려놓은 상황을 가정합니다.
# AI에게 "이 다음엔 뭘 해야 해?"라고 물어보는 요청입니다.
POST http://localhost:8080/api/copilot/suggest
Content-Type: application/json

{
  "focusNodeId": "node_submit_expense",
  "currentGraphJson": "{ \"nodes\": [ { \"id\": \"node_submit_expense\", \"type\": \"USER_TASK\", \"label\": \"Submit Expense\", \"configuration\": { \"configType\": \"USER_TASK_CONFIG\", \"participantRole\": \"Initiator\" }, \"data\": { \"outputVariables\": [\"expense_amount\", \"receipt_file\"] } } ] }"
}

# 기대 결과:
# 1. 'Manager Approval' (USER_TASK) 추천
# 2. 'Send Receipt Email' (SERVICE_TASK) 추천
# 3. 각 제안의 configuration에 'configType'이 정확히 명시되어 있어야 함.
# 4. inputMapping에 '#{node_submit_expense.expense_amount}' 같은 바인딩이 포함되어야 함.